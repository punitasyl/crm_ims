# üë§ –°–æ–∑–¥–∞–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

## üöÄ –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ Railway Shell (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ Railway Shell

1. –û—Ç–∫—Ä–æ–π—Ç–µ Railway Dashboard
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –≤–µ–±-—Å–µ—Ä–≤–∏—Å (–Ω–µ PostgreSQL)
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "Deployments" ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–ø–ª–æ–π
4. –ù–∞–∂–º–∏—Ç–µ "View Logs" ‚Üí "Shell" (–∏–ª–∏ "Connect" ‚Üí "Shell")

### –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç

```bash
cd backend
python create_admin.py
```

### –®–∞–≥ 3: –í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ

–°–∫—Ä–∏–ø—Ç –ø–æ–ø—Ä–æ—Å–∏—Ç –≤–≤–µ—Å—Ç–∏:
- **–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** (username)
- **Email**
- **–ò–º—è** (first name)
- **–§–∞–º–∏–ª–∏—è** (last name)
- **–ü–∞—Ä–æ–ª—å** (–º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤)

–ü—Ä–∏–º–µ—Ä:
```
=== –°–æ–∑–¥–∞–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ ===
–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: admin
Email: admin@example.com
–ò–º—è: Admin
–§–∞–º–∏–ª–∏—è: User
–ü–∞—Ä–æ–ª—å: ********
```

### –®–∞–≥ 4: –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –≤—ã —É–≤–∏–¥–∏—Ç–µ:
```
‚úì –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω!
  ID: 1
  –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: admin
  Email: admin@example.com
  –†–æ–ª—å: admin
```

–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É —Å —ç—Ç–∏–º–∏ —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.

---

## üåê –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ API (–µ—Å–ª–∏ –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ Shell)

### –í–∞—Ä–∏–∞–Ω—Ç A: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ API, –∑–∞—Ç–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–æ–ª–∏

1. **–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ `https://crm-ims.vercel.app/register`
   - –°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç

2. **–ò–∑–º–µ–Ω–∏—Ç–µ —Ä–æ–ª—å –Ω–∞ admin —á–µ—Ä–µ–∑ API:**

   –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Swagger UI –∏–ª–∏ curl:
   ```bash
   # 1. –í–æ–π–¥–∏—Ç–µ –∏ –ø–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω
   curl -X POST "https://crmims-production.up.railway.app/api/auth/login" \
     -H "Content-Type: application/x-www-form-urlencoded" \
     -d "username=–≤–∞—à_username&password=–≤–∞—à_–ø–∞—Ä–æ–ª—å"
   
   # 2. –û–±–Ω–æ–≤–∏—Ç–µ —Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–Ω—É–∂–µ–Ω —Ç–æ–∫–µ–Ω –∞–¥–º–∏–Ω–∞ –∏–ª–∏ –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ –ë–î)
   ```

   **–ò–ª–∏ —á–µ—Ä–µ–∑ Railway Shell:**
   ```bash
   cd backend
   python
   ```
   ```python
   from app.database import SessionLocal
   from app.models.user import User, UserRole
   
   db = SessionLocal()
   user = db.query(User).filter(User.username == "–≤–∞—à_username").first()
   user.role = UserRole.ADMIN
   db.commit()
   db.close()
   ```

### –í–∞—Ä–∏–∞–Ω—Ç B: –ü—Ä—è–º–æ–π SQL –∑–∞–ø—Ä–æ—Å (–µ—Å–ª–∏ –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ PostgreSQL)

1. **–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ PostgreSQL —á–µ—Ä–µ–∑ Railway:**
   - Railway ‚Üí PostgreSQL —Å–µ—Ä–≤–∏—Å ‚Üí "Connect" ‚Üí "PostgreSQL"
   - –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª—é–±–æ–π PostgreSQL –∫–ª–∏–µ–Ω—Ç —Å `DATABASE_URL`

2. **–°–æ–∑–¥–∞–π—Ç–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:**
   ```sql
   -- –°–Ω–∞—á–∞–ª–∞ –Ω—É–∂–Ω–æ –∑–∞—Ö–µ—à–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–æ–ª—å (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Python)
   -- –ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç –≤—ã—à–µ
   ```

---

## üîß –°–ø–æ—Å–æ–± 3: –õ–æ–∫–∞–ª—å–Ω–æ (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω DATABASE_URL)

–ï—Å–ª–∏ —É –≤–∞—Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω `DATABASE_URL` –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω –±–∞–∑—ã:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ DATABASE_URL
export DATABASE_URL="postgresql://user:password@host:port/dbname"

# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ backend
cd backend

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç
python create_admin.py
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:

1. **–í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ `https://crm-ims.vercel.app/login`
   - –í–≤–µ–¥–∏—Ç–µ username –∏ password

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–æ–ª—å:**
   - –ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –≤—ã –¥–æ–ª–∂–Ω—ã –≤–∏–¥–µ—Ç—å –≤—Å–µ —Ä–∞–∑–¥–µ–ª—ã
   - –í –º–µ–Ω—é –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ–ø—Ü–∏—è "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏" (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤)

---

## üêõ –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫

### –û—à–∏–±–∫–∞: "Module not found"
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `backend`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

### –û—à–∏–±–∫–∞: "Connection refused" –∏–ª–∏ "Database does not exist"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `DATABASE_URL` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ Railway
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ PostgreSQL —Å–µ—Ä–≤–∏—Å –∑–∞–ø—É—â–µ–Ω

### –û—à–∏–±–∫–∞: "User already exists"
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º username –∏–ª–∏ email —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥—Ä—É–≥–æ–π username/email
- –ò–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ admin —á–µ—Ä–µ–∑ API/–ë–î

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- **–ü–∞—Ä–æ–ª—å:** –ú–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤, –º–∞–∫—Å–∏–º—É–º 72 —Å–∏–º–≤–æ–ª–∞
- **Email:** –î–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º
- **Username:** –î–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º
- **–†–æ–ª—å:** –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ API —Å–æ–∑–¥–∞–µ—Ç—Å—è —Ä–æ–ª—å `viewer`
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –•—Ä–∞–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ

